{% extends 'products/base.html' %}
{% load humanize %}

{% block title %}{{ fruit.name }} - FruitShop{% endblock %}

{% block extra_css %}
<style>
    .fruit-image {
        height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #f8f9fa;
        overflow: hidden;
        border-radius: 0.5rem;
    }
    .fruit-image img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
    }
</style>
{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row">
        <div class="col-lg-6">
            <div class="fruit-image">
                {% if fruit.image %}
                    <img src="{{ fruit.image.url }}" alt="{{ fruit.name }}">
                {% else %}
                    <span class="text-muted">Ch∆∞a c√≥ ·∫£nh</span>
                {% endif %}
            </div>
        </div>
        <div class="col-lg-6">
            <h1 class="mb-3">{{ fruit.name }}</h1>
            <p class="text-success fw-bold fs-3">{{ fruit.price|intcomma }} ‚Ç´/kg</p>
            <p class="text-muted">C√≤n: {{ fruit.stock }} kg</p>
            <div class="mt-4">
                <p><strong>M√¥ t·∫£:</strong></p>
                <p>{{ fruit.description }}</p>
            </div>
            <div class="mt-4">
                {% if fruit.stock > 0 %}
                    <a href="{% url 'add_to_cart' fruit.id %}" class="btn btn-success btn-lg w-100">
                        üõí Mua ngay
                    </a>
                {% else %}
                    <button class="btn btn-secondary btn-lg w-100" disabled>H·∫øt h√†ng</button>
                {% endif %}
            </div>
            <div class="mt-3">
                <a href="/" class="btn btn-outline-secondary w-100">‚Üê Ti·∫øp t·ª•c mua h√†ng</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}